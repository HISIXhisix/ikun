(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5658)}])},5658:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return h},default:function(){return d}});var i=n(5893),a=n(7294),s=1e3/60,r={touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,mouseleave:2},o=function(t,e,n,i,a){var s=Math.PI/180*a,r=Math.cos(s),o=Math.sin(s);return{x:r*(n-t)+o*(i-e)+t,y:r*(i-e)-o*(n-t)+e}},u=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,t),this.v={r:12,y:2,t:0,w:0,d:.988},this.inertia=.08,this.sticky=.1,this.maxR=60,this.maxY=110,this.last=null,this.rotate=0,this.initiated=!1,this.pageX=0,this.height=800,this.width=500,this.dispose=function(){var t=n.outline,e=n.container;t.removeEventListener("mousedown",n.start),t.removeEventListener("touchstart",n.start),document.removeEventListener("mousemove",n.move),document.removeEventListener("touchmove",n.move),document.removeEventListener("mouseup",n.end),document.removeEventListener("mouseleave",n.end),document.removeEventListener("touchcancel",n.end),document.removeEventListener("touchend",n.end),e.removeChild(t),e.removeChild(n.canvas)},this.start=function(t){t.preventDefault();var e=r[t.type];if(!n.initiated||n.initiated===e){n.initiated=e;var i="targetTouches"in t?t.touches[0]:t;n.pageX=i.pageX;var a=n.audio,s=a.transient,o=a.dancing,u=a.crazy;s.muted=!1,o.muted=!1,u.muted=!1}},this.move=function(t){if(t.preventDefault(),r[t.type]===n.initiated){var e,i="targetTouches"in t?t.touches[0]:t,a=n.container.getBoundingClientRect(),s=a.left+a.width/2,o=i.pageX,u=i.pageY-n.pageX,c=(o-s)*n.sticky;c=Math.max(-n.maxR,c),c=Math.min(n.maxR,c),u=u*n.sticky*2,u=Math.max(-n.maxY,u),u=Math.min(n.maxY,u),n.v.r=c,n.v.y=u,n.v.w=0,n.v.t=0,n.draw()}},this.end=function(t){t.preventDefault(),r[t.type]===n.initiated&&(n.initiated=!1,n.run(),n.play())},this.play=function(){var t=n.audio,e=t.transient,i=t.dancing,a=t.crazy;6>=Math.abs(n.v.r)&&(e.currentTime=0,e.play(),i.pause(),a.pause()),Math.abs(n.v.r)>6&&30>=Math.abs(n.v.r)&&(i.currentTime=0,i.play(),e.pause(),a.pause()),Math.abs(n.v.r)>30&&(a.currentTime=0,a.play(),e.pause(),i.pause())},this.draw=function(){var t=n.v,e=t.r,i=t.y;n.image.style.transform="rotate(".concat(e,"deg) translateX(").concat(5*e,"px) translateY(").concat(i,"px)");var a=n.context,s=n.width,r=n.height;a.clearRect(0,0,s,r),a.save(),a.strokeStyle="#182562",a.lineWidth=10,a.beginPath(),a.translate(s/2,640),a.moveTo(0,200);var u=o(0,-100,e,-i,e),c=u.x,v=-u.y-100;a.quadraticCurveTo(0,75,c,v),a.stroke(),a.restore()},this.run=function(){if(!n.initiated){var t=Date.now(),e=n.inertia,i=n.last?t-n.last:16;i<16&&(e=e/s*i),n.last=t;var a=n.v,r=a.r,o=a.y,u=a.t,c=a.w,v=a.d;c=c-2*r-n.rotate,r+=c*e*1.2,n.v.w=c*v,n.v.r=r,u-=2*o,o+=u*e*2,n.v.t=u*v,n.v.y=o,!(.1>Math.max(Math.abs(n.v.w),Math.abs(n.v.r),Math.abs(n.v.t),Math.abs(n.v.y)))&&(n.draw(),requestAnimationFrame(n.run))}},this.audio={transient:new Audio("".concat("/ji","/j.mp3")),dancing:new Audio("".concat("/ji","/jntm.mp3")),crazy:new Audio("".concat("/ji","/ngm.mp3"))};var i=this.height,a=this.width;this.container=e,e.style.position="relative",e.style.height=i+"px",e.style.width=a+"px";var u=this.image=new Image(197,300);u.src="kun.png";var c=this.outline=document.createElement("div");c.style.position="absolute",c.style.left="50%",c.style.top="50%",c.style.transform="translate(-50%, -50%)",c.appendChild(u);var v=window.devicePixelRatio||1,h=this.canvas=document.createElement("canvas");h.width=a*v,h.height=i*v,h.style.width=a+"px",h.style.height=i+"px";var d=this.context=h.getContext("2d");d.setTransform(1,0,0,1,0,0),d.scale(v,v),this.mount()}return t.prototype.mount=function(){var t=this.outline,e=this.container;t.addEventListener("mousedown",this.start),t.addEventListener("touchstart",this.start),document.addEventListener("mousemove",this.move),document.addEventListener("touchmove",this.move),document.addEventListener("mouseup",this.end),document.addEventListener("mouseleave",this.end),document.addEventListener("touchcancel",this.end),document.addEventListener("touchend",this.end),e.appendChild(t),e.appendChild(this.canvas)},t}(),c=n(214),v=n.n(c),h=!0,d=function(){var t=(0,a.useRef)(null);return(0,a.useEffect)(function(){var e=new u(t.current);return e.run(),function(){e.dispose()}},[]),(0,i.jsx)("div",{className:v().container,children:(0,i.jsx)("div",{className:v().stage,ref:t})})}},214:function(t){t.exports={container:"Home_container__bCOhY",stage:"Home_stage__80p1Q"}}},function(t){t.O(0,[774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);